---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'A4 CV Print Page',
  description: 'CV page in an official format.',
};
---

<Layout metadata={metadata}>
  <div class="my-4 flex items-center justify-center no-print">
    <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700" onclick="window.print()">
      Print CV
    </button>
  </div>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-size: 10pt;
    }

    @media print {
      .no-print {
        display: none !important;
      }
      body {
        background: #fff !important;
      }

      body *:not(.cv-container):not(.cv-container *) {
        display: none !important;
      }

      .a4-page {
        page-break-after: avoid;
        page-break-inside: avoid;
      }

      section {
        page-break-inside: avoid;
      }
    }

    .cv-container {
      display: flex;
      justify-content: center;
      width: 100%;
      margin: 0 auto;
      padding: 0;
    }

    .a4-page {
      width: 210mm;
      min-height: 297mm;
      height: 297mm;
      background: #fff;
      padding: 10mm;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      position: relative;
      color: #000;
    }

    @media print {
      .a4-page {
        box-shadow: none;
        width: 100%;
        height: auto;
        margin: 0;
        padding: 10mm;
        color: #000 !important;
      }
    }

    :global(.dark) .a4-page {
      color: #000;
      background: #fff;
    }

    :global(.dark) .a4-page a {
      color: #0066cc;
    }

    header {
      text-align: center;
      margin-bottom: 8px;
    }
    h1 {
      margin-bottom: 5px;
      font-size: 14pt;
      color: #000;
    }
    .contact-info {
      margin-bottom: 8px;
      word-wrap: break-word;
      color: #000;
    }
    h2 {
      border-bottom: 1px solid #333;
      padding-bottom: 2px;
      margin-bottom: 4px;
      margin-top: 6px;
      font-size: 11pt;
      color: #000;
    }
    .row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 3px;
      flex-wrap: wrap;
      color: #000;
    }
    .row h3 {
      margin: 0;
      font-size: 10pt;
      font-weight: bold;
      color: #000;
    }
    .date {
      text-align: right;
      color: #000;
    }
    .repo-link {
      text-align: right;
      font-size: 9pt;
      word-break: break-all;
      color: #000;
    }
    ul {
      padding-left: 13px;
      margin-top: 2px;
      margin-bottom: 6px;
      color: #000;
    }
    li {
      margin-bottom: 2px;
      color: #000;
    }
    a {
      color: #0066cc;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    .skills-list {
      margin-bottom: 3px;
      color: #000;
    }

    #projects ul li,
    #experience ul li {
      line-height: 1.3;
    }

    section {
      margin-bottom: 8px;
      color: #000;
    }
  </style>

  <div class="cv-container">
    <div class="a4-page">
      <header>
        <h1>Tanel Dubolazov</h1>
        <div class="contact-info">
          <a href="https://github.com/TanelDubolazov" target="_blank">GitHub</a>
        </div>
      </header>

      <section class="section" id="skills">
        <h2>Skills</h2>
        <div class="skills-list"><strong>Languages:</strong> Go, JavaScript, Bash</div>
        <div class="skills-list">
          <strong>Web Technologies:</strong> React.js, Node.js, Express.js, WebSockets, REST API, HTML, CSS
        </div>
        <div class="skills-list"><strong>Data:</strong> PostgreSQL, SQLite, MySQL</div>
        <div class="skills-list">
          <strong>Tools:</strong> Git, Docker, Vagrant, PM2, Postman, Terraform, Cisco, GitHub Actions
        </div>
      </section>

      <section class="section" id="education">
        <h2>Education</h2>
        <div class="row">
          <h3>Kood/Jõhvi – Full-Stack Web Development (DevOps Specialization)</h3>
          <div class="date">Sep 2023 – Aug 2025</div>
        </div>
      </section>

      <section class="section" id="projects">
        <h2>Projects</h2>
        <div class="row">
          <h3>Social Network</h3>
          <div class="repo-link">
            <a href="https://github.com/TanelDubolazov/social-network" target="_blank">
              github.com/TanelDubolazov/social-network
            </a>
          </div>
        </div>
        <ul>
          <li>
            Team project to develop a Facebook-like social network with authentication, posts, followers, and chat.
          </li>
          <li>
            Built the frontend in React, integrating with an existing Go-based REST API and WebSockets for real-time
            messaging.
          </li>
          <li>
            Took full-stack responsibility despite frontend not being my primary focus, implementing backend
            modifications where needed.
          </li>
        </ul>

        <div class="row">
          <h3>CRUD Master</h3>
          <div class="repo-link">
            <a href="https://github.com/TanelDubolazov/crud-master" target="_blank">
              github.com/TanelDubolazov/crud-master
            </a>
          </div>
        </div>
        <ul>
          <li>Independently designed a microservices-based movie streaming API using Node.js and PostgreSQL.</li>
          <li>Implemented an API Gateway for request routing, integrating RabbitMQ for message queuing.</li>
          <li>Used Vagrant to provision three virtual machines (API Gateway, Inventory, and Billing services).</li>
        </ul>

        <div class="row">
          <h3>Real-Time Forum</h3>
          <div class="repo-link">
            <a href="https://github.com/TanelDubolazov/real-time-forum" target="_blank">
              github.com/TanelDubolazov/real-time-forum
            </a>
          </div>
        </div>
        <ul>
          <li>Collaborated in a team to develop a Go/JavaScript-based forum with real-time chat.</li>
          <li>Integrated SQLite for lightweight storage and bcrypt for secure authentication.</li>
          <li>Conducted code reviews ensuring clean, maintainable code.</li>
        </ul>
      </section>

      <section class="section" id="experience">
        <h2>Experience</h2>
        <div class="row">
          <h3>Marketing Specialist (Freelance)</h3>
          <div class="date">Jan 2018 – Sep 2023</div>
        </div>
        <ul>
          <li>Designed, launched, and managed Shopify e-commerce stores.</li>
          <li>Developed and optimized paid advertising campaigns on Facebook and Google Ads.</li>
          <li>Handled product sourcing, database management, and dynamic pricing strategies.</li>
        </ul>

        <div class="row">
          <h3>Student | Auditor (Kood/Jõhvi)</h3>
          <div class="date">Sep 2023 – Aug 2025</div>
        </div>
        <ul>
          <li>Completed full-stack development projects in Go and JavaScript, specializing in DevOps.</li>
          <li>Conducted peer audits evaluating code quality & best practices.</li>
          <li>Worked on team-based projects, focusing on clean architecture and sprint deadlines.</li>
        </ul>
      </section>
    </div>
  </div>
</Layout>
